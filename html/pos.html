<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script type="text/javascript" src="./web3/web3.js"></script>
    <script type="text/javascript" src="./plugins/sweetalert/sweetalert.min.js"></script>
    <link rel="stylesheet" href="./plugins/sweetalert/sweetalert.css">
    <title>ETHIndia - JMNV</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="./vendors/iconfonts/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="./vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="./vendors/css/vendor.bundle.addons.css">
    <!-- endinject -->
    <!-- plugin css for this page -->
    <link rel="stylesheet" href="./vendors/icheck/skins/all.css">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="./css/style.css">
    <!-- endinject -->
    <link rel="shortcut icon" href="./images/favicon.png" />
</head>

<body> <div id="loader"></div>
  <div id="mainDiv" class="container-scroller">
    <!-- partial:./partials/_navbar.html -->
    <nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
         <div class="text-center navbar-brand-wrapper d-flex align-items-top justify-content-center">
             <a class="nav-link" href="./index.html">
              <i class="menu-icon mdi"></i>
              <span class="menu-title">ETHIndia - JMNV</span>
          </a>

      </div>
      <div class="navbar-menu-wrapper d-flex align-items-center">
        <!-- <ul class="navbar-nav navbar-nav-left header-links d-none d-md-flex">
          <li class="nav-item">
            <a href="#" class="nav-link">Schedule
              <span class="badge badge-primary ml-1">New</span>
            </a>
          </li>
          <li class="nav-item active">
            <a href="#" class="nav-link">
              <i class="mdi mdi-elevation-rise"></i>Reports</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="mdi mdi-bookmark-plus-outline"></i>Score</a>
          </li>
        </ul> -->
        <ul class="navbar-nav navbar-nav-right">
          <li class="nav-item dropdown">
            <a class="nav-link count-indicator dropdown-toggle" id="messageDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
              <i class="mdi mdi-file-document-box"></i>
              <span class="count">7</span>
            </a>
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list" aria-labelledby="messageDropdown">
              <div class="dropdown-item">
                <p class="mb-0 font-weight-normal float-left">You have 7 unread mails
                </p>
                <span class="badge badge-info badge-pill float-right">View all</span>
              </div>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item preview-item">
                <div class="preview-thumbnail">
                  <img src="./images/faces/face4.jpg" alt="image" class="profile-pic">
                </div>
                <div class="preview-item-content flex-grow">
                  <h6 class="preview-subject ellipsis font-weight-medium text-dark">David Grey
                    <span class="float-right font-weight-light small-text">1 Minutes ago</span>
                  </h6>
                  <p class="font-weight-light small-text">
                    The meeting is cancelled
                  </p>
                </div>
              </a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item preview-item">
                <div class="preview-thumbnail">
                  <img src="./images/faces/face2.jpg" alt="image" class="profile-pic">
                </div>
                <div class="preview-item-content flex-grow">
                  <h6 class="preview-subject ellipsis font-weight-medium text-dark">Tim Cook
                    <span class="float-right font-weight-light small-text">15 Minutes ago</span>
                  </h6>
                  <p class="font-weight-light small-text">
                    New product launch
                  </p>
                </div>
              </a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item preview-item">
                <div class="preview-thumbnail">
                  <img src="./images/faces/face3.jpg" alt="image" class="profile-pic">
                </div>
                <div class="preview-item-content flex-grow">
                  <h6 class="preview-subject ellipsis font-weight-medium text-dark"> Johnson
                    <span class="float-right font-weight-light small-text">18 Minutes ago</span>
                  </h6>
                  <p class="font-weight-light small-text">
                    Upcoming board meeting
                  </p>
                </div>
              </a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link count-indicator dropdown-toggle" id="notificationDropdown" href="#" data-toggle="dropdown">
              <i class="mdi mdi-bell"></i>
              <span class="count">4</span>
            </a>
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list" aria-labelledby="notificationDropdown">
              <a class="dropdown-item">
                <p class="mb-0 font-weight-normal float-left">You have 4 new notifications
                </p>
                <span class="badge badge-pill badge-warning float-right">View all</span>
              </a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item preview-item">
                <div class="preview-thumbnail">
                  <div class="preview-icon bg-success">
                    <i class="mdi mdi-alert-circle-outline mx-0"></i>
                  </div>
                </div>
                <div class="preview-item-content">
                  <h6 class="preview-subject font-weight-medium text-dark">Application Error</h6>
                  <p class="font-weight-light small-text">
                    Just now
                  </p>
                </div>
              </a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item preview-item">
                <div class="preview-thumbnail">
                  <div class="preview-icon bg-warning">
                    <i class="mdi mdi-comment-text-outline mx-0"></i>
                  </div>
                </div>
                <div class="preview-item-content">
                  <h6 class="preview-subject font-weight-medium text-dark">Settings</h6>
                  <p class="font-weight-light small-text">
                    Private message
                  </p>
                </div>
              </a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item preview-item">
                <div class="preview-thumbnail">
                  <div class="preview-icon bg-info">
                    <i class="mdi mdi-email-outline mx-0"></i>
                  </div>
                </div>
                <div class="preview-item-content">
                  <h6 class="preview-subject font-weight-medium text-dark">New user registration</h6>
                  <p class="font-weight-light small-text">
                    2 days ago
                  </p>
                </div>
              </a>
            </div>
          </li>
          <li class="nav-item dropdown d-none d-xl-inline-block">
            <a class="nav-link dropdown-toggle" id="UserDropdown" href="#" data-toggle="dropdown" aria-expanded="false"  href="./settings.html">
              <span class="profile-text" >Hello, !   </span>
              <span class="profile-text" style="margin-right: -2px">More</span>

            </a>
            <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="UserDropdown">
              <a class="dropdown-item mt-2" href="./settings.html">
                Settings
              </a>
            </div>
          </li>
        </ul>
        <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
          <span class="icon-menu"></span>
        </button>
      </div>
    </nav>
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:./partials/_sidebar.html -->
    <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <ul class="nav">
          <!-- <li class="nav-item nav-profile">
            <div class="nav-link">
              <div class="user-wrapper">
                <div class="profile-image">
                  <img src="./images/faces/face1.jpg" alt="profile image">
                </div>
                <div class="text-wrapper">
                  <p class="profile-name">Richard V.Welsh</p>
                  <div>
                    <small class="designation text-muted">Manager</small>
                    <span class="status-indicator online"></span>
                  </div>
                </div>
              </div>
              <button class="btn btn-success btn-block">New Project
                <i class="mdi mdi-plus"></i>
              </button>
            </div>
          </li> -->
          <li class="nav-item">
            <a class="nav-link" href="./index.html">
              <i class="menu-icon mdi mdi-television"></i>
              <span class="menu-title">Home</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./addMoney.html">
              <i class="menu-icon mdi mdi-backup-restore"></i>
              <span class="menu-title">Add Money</span>
            </a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="./burnMoney.html">
              <i class="menu-icon mdi mdi-chart-line"></i>
              <span class="menu-title">Burn Money</span>
            </a>
          </li> -->
          <li class="nav-item">
            <a class="nav-link" href="./list.html">
              <i class="menu-icon mdi mdi-table"></i>
              <span class="menu-title">List Money</span>
            </a>
          </li>
           <li class="nav-item">
            <a class="nav-link" href="./pos.html">
              <i class="menu-icon mdi mdi-sticker"></i>
              <span class="menu-title">POS</span>
            </a>
          </li>
            <li class="nav-item">
            <a class="nav-link" href="./addUser.html">
              <i class="menu-icon mdi mdi-sticker"></i>
              <span class="menu-title">Add User</span>
            </a>
          </li>
        </ul>
      </nav>
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
          <div class="row">
          <div class="col-10">
          <H1>Point of sale</H1>
          </div>
          <div class="col-2">
           <a class="nav-link" href="./posEvents.html">
              <span class="menu-title">Events</span>
            </a>
            </div>
            </div>
              <div class="row">   
                  <div class="col-md-6 d-flex align-items-stretch grid-margin">
                    <div class="row flex-grow">
                      <div class="col-12">
                        <div class="card">
                          <div class="card-body">
                           <!--  <h4 class="card-title">Total</h4> -->
                           <!--  <p class="card-description">
                              Basic form layout
                            </p> -->
                            <div class="forms-sample">
                              <div class="form-group-secondary_">
                                <label for="exampleInputEmail1">Fake Currency Detector</label>

                                <div class="forms-sample">
                                <div style="margin-bottom: 10px">
                                <select class="select-drop-down" style="margin: 20" id="denominationForFakeCurrency">
                                  <option value="" disabled selected>Loading Dinominations 
                                  </option>
                                </select>
                                </div>
                                <div class="form-group row">
                                  <label for="exampleInputEmail2" class="col-sm-4 col-form-label">Note Id</label>
                                  <div class="col-sm-8">
                                    <input type="text" class="form-control" id="nodeIdForFakeCurrency" placeholder="Enter NoteId">
                                  </div>
                                </div>


                                 <div class="form-group row">
                                  <label for="exampleInputEmail2" class="col-sm-4 col-form-label"></label>
                                  <div class="col-sm-8">
                                    <input type="input" class="form-control" id="" placeholder="Enter Address" style="visibility: hidden;">
                                  </div>
                                </div>

                                   <!--  <div class="form-group">
                                  <label for="exampleInputName1">Name</label>
                                  <input type="text" class="form-control" id="exampleInputName1" placeholder="Name">
                                </div>
                                <div class="form-group">
                                  <label for="exampleInputEmail3">Email address</label>
                                  <input type="text" class="form-control" id="exampleInputEmail3" placeholder="Email">
                                </div> -->

                                <div class="row">
                                <button class="btn btn-success mr-2" onclick="onCheckClicked()">CHECK</button>
                                <button class="btn btn-light">Cancel</button>
                                </div>
                            </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>


                <div class="col-md-6 d-flex align-items-stretch grid-margin">
                    <div class="row flex-grow">
                      <div class="col-12">
                        <div class="card">
                          <div class="card-body">
                           <!--  <h4 class="card-title">Total</h4> -->
                           <!--  <p class="card-description">
                              Basic form layout
                            </p> -->
                            <div class="forms-sample">
                              <div class="form-group-secondary_">
                                <label for="exampleInputEmail1">Verify User</label>

                                <div class="forms-sample">
                                <div style="margin-bottom: 10px">
                                <select class="select-drop-down" style="margin: 20" id="denominationForVerifyUser">
                                      <option value="" disabled selected>Loading Dinominations 
                                      </option>
                                </select>
                                </div>
                                <div class="form-group row">
                                  <label for="exampleInputEmail2" class="col-sm-4 col-form-label">Note Id</label>
                                  <div class="col-sm-8">
                                    <input type="text" class="form-control" id="noteIdForVerifyUser" placeholder="Enter NoteId">
                                  </div>
                                </div>

                                <div class="form-group row">
                                  <label for="exampleInputEmail2" class="col-sm-4 col-form-label">Address</label>
                                  <div class="col-sm-8">
                                    <input type="text" class="form-control" id="AddressForVerifyUser" placeholder="Enter Address">
                                  </div>
                                </div>
                                   <!--  <div class="form-group">
                                  <label for="exampleInputName1">Name</label>
                                  <input type="text" class="form-control" id="exampleInputName1" placeholder="Name">
                                </div>
                                <div class="form-group">
                                  <label for="exampleInputEmail3">Email address</label>
                                  <input type="text" class="form-control" id="exampleInputEmail3" placeholder="Email">
                                </div> -->

                                <div class="row">
                                <button class="btn btn-success mr-2" onclick="onVerifyClicked()">VERIFY</button>
                                <button class="btn btn-light">Cancel</button>
                                </div>
                            </div>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
              </div>



          <div class="row">
                  <div class="col-md-12 card" style="margin-left: 10px">
                    <div class="card-body" style="margin-left: -20px">
                      <label for="exampleInputEmail1">Collect Money</label>
                      <div class="col-md-12 d-flex align-items-stretch grid-margin" >
                            <div class="forms-sample" style="margin-left: -10px">
                                <div style="margin-bottom: 10px">
                                <select class="select-drop-down" id="denominationForTransfer">
                                      <option value="" disabled selected>Loading Dinominations 
                                      </option>
                                </select>
                                </div>
                                <div class="form-group row">
                                  <label for="exampleInputEmail2" class="col-sm-4 col-form-label">Note Id</label>
                                  <div class="col-sm-8">
                                    <input type="text" class="form-control" id="nodeIdForTransfer" placeholder="Enter NoteId">
                                  </div>
                                </div>

                                 <div class="form-group row">
                                  <label for="exampleInputEmail2" class="col-sm-4 col-form-label">Address</label>
                                  <div class="col-sm-8">
                                    <input type="text" class="form-control" id="AddressForTransfer" placeholder="Enter Address">
                                  </div>
                                </div>

                                   <!--  <div class="form-group">
                                  <label for="exampleInputName1">Name</label>
                                  <input type="text" class="form-control" id="exampleInputName1" placeholder="Name">
                                </div>
                                <div class="form-group">
                                  <label for="exampleInputEmail3">Email address</label>
                                  <input type="text" class="form-control" id="exampleInputEmail3" placeholder="Email">
                                </div> -->

                          
                                <button class="btn btn-success mr-2" onclick="onScanClicked()">SCAN</button>
                                <button class="btn btn-light">Cancel</button>
                            </div>
                      </div>
                    </div>
                  </div> 
          </div>
        </div>

        </div>
        <!-- content-wrapper ends -->
        <!-- partial:./partials/_footer.html -->
<!--        ADD FOOTE  -->        
<!-- partial -->
      </div>
      <!-- main-panel ends -->
    </div>
    <!-- page-body-wrapper ends -->
  <!-- container-scroller -->
  <!-- plugins:js -->
  <script src="./vendors/js/vendor.bundle.base.js"></script>
  <script src="./vendors/js/vendor.bundle.addons.js"></script>
  <!-- endinject -->
  <!-- Plugin js for this page-->
  <!-- End plugin js for this page-->
  <!-- inject:js -->
  <script src="./js/off-canvas.js"></script>
  <script src="./js/misc.js"></script>
  <script src="./js/fedres-abi.js"></script>
  <script src="./js/erc721-abi.js"></script>
  <script src="./js/web3.setup.js"></script>
  <script src="./js/fed-res-bank.js"></script>
  <script src="./js/erc721.js"></script>  
  <!-- endinject -->
  <!-- Custom js for this page-->
  <!-- End custom js for this page-->
   <script>
         

    function actionPerform(){
      hideLoader();
      getDenomination({
          onSuccess: function(d){
            initDropdown(d[1], d[0]);
          },
          onError: function(e){
            debugger;
          }
        })
        frsContract.requestNote(function(err, data){
          debugger;
          if(err){
              return;
          }
          hideLoader();
          swal("Sent request to owner.");
      })
    }
    function onCheckClicked(){
        // contractAddress = $("#denominationForFakeCurrency").val()
        var selectedDemon = parseInt($("#denominationForFakeCurrency option:selected").text());
        var noteId = parseInt($("#nodeIdForFakeCurrency").val());
        frsContract.isValidNote.call(selectedDemon,noteId, function (error, data) {
          if(error){
            return;
          }
          if(data){
            swal("Hey!", `Noe ${noteId} is not a fake!`, "success");
          }else{
            swal("Hey!", `Note ${noteId} is fake!`, "error");
          }
          debugger;  
        });
    }
    function onVerifyClicked(){
      var selectedDemon = parseInt($("#denominationForVerifyUser option:selected").text());
        var noteId = $("#noteIdForVerifyUser").val()
        var address = $("#AddressForVerifyUser").val()
        frsContract.validateNote.call(selectedDemon, noteId,address, function (error, data) {
          debugger;  
          if(data){
            swal("Hey!", `Note ${noteId} is owned by ${address}`, "success");
          }else{
            swal("Sorry!", `Note ${noteId} is not owned by ${address}!`, "error");
          }
        });
    }    
    function onScanClicked(){
        showLoader();
        var selectedDemon = parseInt($("#denominationForTransfer option:selected").text());
        var noteId = $("#nodeIdForTransfer").val()
        var address = $("#AddressForTransfer").val()
        onPOSScan(selectedDemon, noteId, address);
    }
    function initDropdown(address, data){
      var options = ['#denominationForFakeCurrency','#denominationForVerifyUser',"#denominationForTransfer"]
      var optionTxt = ' <option value="" disabled selected>Select dinominations</option>';
      for(var index=0;index<data.length; index++){
        optionTxt+=`<option value="${address[index]}">${data[index]}</option>`;
      }
      for(var index=0;index<options.length; index++){
        $(options[index]).empty();
        $(options[index]).append(optionTxt);
      }
    }
  </script>
</body>

</html>